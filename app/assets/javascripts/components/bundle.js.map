{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/assets/frontend/API.jsx","webpack:///./app/assets/frontend/actions/ServerActions.jsx","webpack:///./app/assets/frontend/actions/TweetActions.jsx","webpack:///./app/assets/frontend/components/Navbar.jsx","webpack:///./app/assets/frontend/components/Tweet.jsx","webpack:///./app/assets/frontend/components/TweetBox.jsx","webpack:///./app/assets/frontend/components/Tweetslist.jsx","webpack:///./app/assets/frontend/constants.jsx","webpack:///./app/assets/frontend/dispatcher.jsx","webpack:///./app/assets/frontend/main.jsx","webpack:///./app/assets/frontend/stores/TweetStore.jsx","webpack:///./node_modules/events/events.js","webpack:///./node_modules/fbjs/lib/invariant.js","webpack:///./node_modules/flux/index.js","webpack:///./node_modules/flux/lib/Dispatcher.js"],"names":["getAllTweets","$","get","success","ServerActions","receivedTweets","rawTweets","error","console","log","createTweet","body","post","receivedOneTweet","rawTweet","AppDispatcher","dispatch","actionType","ActionTypes","RECEIVED_TWEETS","RECEIVED_ONE_TWEET","API","sendTweet","Navbar","React","Component","Tweet","props","gravatar","name","formattedDate","TweetBox","event","preventDefault","TweetActions","tweetTextArea","value","bind","input","TweetsList","tweets","map","tweet","id","Flux","Dispatcher","getAppState","tweetsList","TweetStore","getAll","Main","state","_onChange","addChangeListener","removeChangeListener","setState","documentReady","reactNode","document","getElementById","ReactDOM","render","_tweets","CHANGE_EVENT","TweetEventEmitter","moment","created_at","fromNow","emit","callback","on","removeListener","EventEmitter","register","action","emitChange","unshift"],"mappings":"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EA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,4DAA4D,WAAW;AACvE;AACA,CAAC,cAAc;AACf;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtgBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;;AAEA,2B;;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,sBAAsB;AACtB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,4B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/assets/frontend/main.jsx\");\n","import ServerActions from './actions/ServerActions'\n\nexport default {\n   getAllTweets() {\n     $.get(\"/tweets\")\n     .success( rawTweets => ServerActions.receivedTweets(rawTweets))\n     .error(error => console.log(error));\n   },\n   createTweet(body) {\n     $.post(\"/tweets\", {body})\n     .success( rawTweet  => ServerActions.receivedOneTweet(rawTweet))\n     .error(error => console.log(error));\n   }\n}\n","import AppDispatcher from '../dispatcher';\nimport ActionTypes from '../constants'\n\nexport default {\n   receivedTweets(rawTweets) {\n     AppDispatcher.dispatch({\n        actionType: ActionTypes.RECEIVED_TWEETS,\n        rawTweets: rawTweets\n     })\n   },\n   receivedOneTweet(rawTweet) {\n     AppDispatcher.dispatch({\n        actionType: ActionTypes.RECEIVED_ONE_TWEET,\n        rawTweet: rawTweet\n     })\n   }\n}\n","import API from '../API'\n\nexport default {\n  getAllTweets() {\n    API.getAllTweets();\n  },\n  sendTweet(body){\n    API.createTweet(body);\n  }\n}\n","export default class Navbar extends React.Component {\n  render() {\n    return (\n      <div>\n        <nav>\n          <div className=\"nav-wrapper\">\n            <a href=\"#\" className=\"brand-logo\">Twitteralize</a>\n          </div>\n        </nav>\n      </div>\n    )\n  }\n}\n","export default class Tweet extends React.Component {\n  render() {\n    return (\n      <li className=\"collection-item avatar teal lighten-5\">\n         <img src={this.props.gravatar} alt=\"\" className=\"circle\" />\n         <span className=\"title\">{this.props.name}</span>\n         <p>{this.props.body}</p>\n         <a href=\"#!\" className=\"secondary-content\"><i className=\"material-icons\">grade</i></a>\n         <time className=\"right\">{this.props.formattedDate}</time>\n      </li>\n    )\n  }\n}\n","import TweetActions from '../actions/TweetActions';\n\nexport default class TweetBox extends React.Component {\n  sendTweet(event){\n    event.preventDefault();\n    TweetActions.sendTweet(this.tweetTextArea.value);\n    this.tweetTextArea.value = '';\n  }\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col s12 m8 offset-m2 l8 offset-l2\">\n          <form onSubmit={this.sendTweet.bind(this)}>\n            <div className=\"input-field\">\n              <textarea ref={input => (this.tweetTextArea = input)} id=\"textarea1\" className=\"materialize-textarea\" data-length=\"120\"></textarea>\n              <label htmlFor=\"textarea1\">What's happening?</label>\n              <button type=\"submit\" className=\"waves-effect waves-light btn right\">Tweet</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import Tweet from './Tweet'\n\nexport default class TweetsList extends React.Component {\n  render() {\n    let tweets = this.props.tweets.map(tweet => <Tweet key={tweet.id} {...tweet} />);\n    return (\n      <div className=\"row\">\n        <div className=\"col s12 m8 offset-m2 l8 offset-l2\">\n          <ul className=\"collection\">\n            {tweets}\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n","export default {\n   RECEIVED_TWEETS: 'RECEIVED_TWEETS',\n   RECEIVED_ONE_TWEET: 'RECEIVED_ONE_TWEET'\n}\n","import Flux from 'flux';\n\n\nexport default new Flux.Dispatcher();\n","import Navbar from './components/Navbar';\nimport TweetBox from './components/TweetBox';\nimport TweetsList from './components/Tweetslist';\nimport TweetStore from './stores/TweetStore';\n\nimport TweetActions from './actions/TweetActions';\nTweetActions.getAllTweets();\n\nlet getAppState = () => {\n  return {tweetsList: TweetStore.getAll()};\n}\n\nclass Main extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = getAppState();\n    this._onChange = this._onChange.bind(this);\n  }\n  componentDidMount() {\n    TweetStore.addChangeListener(this._onChange);\n    // $.ajax(\"/tweets\")\n    // .success(data => this.setState(this.formattedTweets(data)))\n    // .error(error => console.log(error));\n  }\n  componentWillUnmount() {\n    TweetStore.removeChangeListener(this._onChange);\n  }\n  _onChange(){\n    this.setState(getAppState());\n  }\n  render() {\n    return (\n      <div className=\"container-flex\">\n        <Navbar />\n        <TweetBox />\n        <TweetsList tweets={this.state.tweetsList}/>\n      </div>\n    );\n  }\n}\n\nlet documentReady = () => {\n  const reactNode = document.getElementById('react');\n  if(reactNode){\n    ReactDOM.render(<Main />, reactNode);\n  }\n};\n\n$(documentReady)\n","import AppDispatcher from '../dispatcher';\nimport ActionTypes from '../constants';\nimport { EventEmitter } from 'events';\n\nlet _tweets = [];\nconst CHANGE_EVENT = 'CHANGE';\n\nclass TweetEventEmitter extends EventEmitter {\n  getAll(){\n    return _tweets.map(tweet => {\n      tweet.formattedDate = moment(tweet.created_at).fromNow();\n      return tweet;\n    });\n  }\n  emitChange() {\n    this.emit(CHANGE_EVENT);\n  }\n  addChangeListener(callback){\n    this.on(CHANGE_EVENT, callback);\n  }\n  removeChangeListener(callback){\n    this.removeListener(CHANGE_EVENT, callback);\n  }\n}\n\nlet TweetStore = new TweetEventEmitter();\n\nAppDispatcher.register( action => {\n switch(action.actionType){\n   case ActionTypes.RECEIVED_TWEETS:\n    _tweets = action.rawTweets;\n    TweetStore.emitChange();\n    break;\n   case ActionTypes.RECEIVED_ONE_TWEET:\n    _tweets.unshift(action.rawTweet);\n    TweetStore.emitChange();\n    break;\n   default:\n   // no op\n }\n});\n\nexport default TweetStore;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher');\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * \n * @preventMunge\n */\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *   CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *         case 'city-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\nvar Dispatcher = (function () {\n  function Dispatcher() {\n    _classCallCheck(this, Dispatcher);\n\n    this._callbacks = {};\n    this._isDispatching = false;\n    this._isHandled = {};\n    this._isPending = {};\n    this._lastID = 1;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   */\n\n  Dispatcher.prototype.register = function register(callback) {\n    var id = _prefix + this._lastID++;\n    this._callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   */\n\n  Dispatcher.prototype.unregister = function unregister(id) {\n    !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.unregister(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n    delete this._callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   */\n\n  Dispatcher.prototype.waitFor = function waitFor(ids) {\n    !this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Must be invoked while dispatching.') : invariant(false) : undefined;\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this._isPending[id]) {\n        !this._isHandled[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Circular dependency detected while ' + 'waiting for `%s`.', id) : invariant(false) : undefined;\n        continue;\n      }\n      !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n      this._invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   */\n\n  Dispatcher.prototype.dispatch = function dispatch(payload) {\n    !!this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.') : invariant(false) : undefined;\n    this._startDispatching(payload);\n    try {\n      for (var id in this._callbacks) {\n        if (this._isPending[id]) {\n          continue;\n        }\n        this._invokeCallback(id);\n      }\n    } finally {\n      this._stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   */\n\n  Dispatcher.prototype.isDispatching = function isDispatching() {\n    return this._isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._invokeCallback = function _invokeCallback(id) {\n    this._isPending[id] = true;\n    this._callbacks[id](this._pendingPayload);\n    this._isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._startDispatching = function _startDispatching(payload) {\n    for (var id in this._callbacks) {\n      this._isPending[id] = false;\n      this._isHandled[id] = false;\n    }\n    this._pendingPayload = payload;\n    this._isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._stopDispatching = function _stopDispatching() {\n    delete this._pendingPayload;\n    this._isDispatching = false;\n  };\n\n  return Dispatcher;\n})();\n\nmodule.exports = Dispatcher;"],"sourceRoot":""}